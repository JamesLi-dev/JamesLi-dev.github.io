<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-framework/Vue/Vue2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Vue 2 | 这里是 Torli&#x27;s </title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://torli.top/en/docs/framework/Vue/Vue2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="cooking, blog"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Vue 2 | 这里是 Torli&#x27;s "><meta data-rh="true" name="description" content="这里介绍老版本 vue 相关的知识点"><meta data-rh="true" property="og:description" content="这里介绍老版本 vue 相关的知识点"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://torli.top/en/docs/framework/Vue/Vue2"><link data-rh="true" rel="alternate" href="https://torli.top/docs/framework/Vue/Vue2" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://torli.top/en/docs/framework/Vue/Vue2" hreflang="en"><link data-rh="true" rel="alternate" href="https://torli.top/docs/framework/Vue/Vue2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="这里是 Torli&#39;s  RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="这里是 Torli&#39;s  Atom Feed"><link rel="stylesheet" href="/en/assets/css/styles.31746b7a.css">
<script src="/en/assets/js/runtime~main.34c1f58a.js" defer="defer"></script>
<script src="/en/assets/js/main.8a239e10.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_Mdo1" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_fFzK"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo2.png" alt="My Site Logo" class="themedComponent_LOPD themedComponent--light_yK2g"><img src="/en/img/logo2.png" alt="My Site Logo" class="themedComponent_LOPD themedComponent--dark_Fl0Q"></div><b class="navbar__title text--truncate">Torli&#x27;s Blog</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/intro">总结</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/category/基础">基础</a></li><li><a class="dropdown__link" href="/en/docs/category/框架">框架</a></li><li><a class="dropdown__link" href="/en/docs/category/状态管理">状态管理</a></li><li><a class="dropdown__link" href="/en/docs/category/代码规范">代码规范</a></li><li><a class="dropdown__link" href="/en/docs/category/打包编译">打包编译</a></li><li><a class="dropdown__link" href="/en/docs/category/nodejs">NodeJS</a></li><li><a class="dropdown__link" href="/en/docs/category/数据库">数据库</a></li><li><a class="dropdown__link" href="/en/docs/category/动画">动画</a></li><li><a class="dropdown__link" href="/en/docs/category/3D">3D</a></li></ul></div><a class="navbar__item navbar__link" href="/en/blog">日常 Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/plugin">插件拓展</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/plugin/pnpm">pnpm</a></li><li><a class="dropdown__link" href="/en/docs/plugin/lazygit">LazyGit</a></li><li><a class="dropdown__link" href="/en/docs/plugin/npkill">npkill</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/software">工具软件</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/software/KeyboardMaestro">Keyboard Maestro</a></li><li><a class="dropdown__link" href="/en/docs/software/Warp">Warp</a></li></ul></div><a href="https://github.com/JamesLi-dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_FzpE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_yvMP colorModeToggle_RRaG"><button class="clean-btn toggleButton_rQxd toggleButtonDisabled_dTmH" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_RBJi"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_s0dg"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_hx9Z"><div class="navbar__search searchBarContainer_uW_T"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_VbLb searchBarLoadingRing_cNCt"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_uOEr"><div class="docsWrapper_Z5c3"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_qj6V" type="button"></button><div class="docRoot_TLES"><aside class="theme-doc-sidebar-container docSidebarContainer_YXuH"><div class="sidebarViewport_EXPD"><div class="sidebar_HaD9 sidebarWithHideableNavbar_A1FD"><a tabindex="-1" class="sidebarLogo__ZAi" href="/en/"><img src="/en/img/logo2.png" alt="My Site Logo" class="themedComponent_LOPD themedComponent--light_yK2g"><img src="/en/img/logo2.png" alt="My Site Logo" class="themedComponent_LOPD themedComponent--dark_Fl0Q"><b>Torli&#x27;s Blog</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_B3yM"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/intro">前言</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/基础">基础</a><button aria-label="Expand sidebar category &#x27;基础&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/en/docs/category/框架">框架</a><button aria-label="Collapse sidebar category &#x27;框架&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/category/react">React</a><button aria-label="Expand sidebar category &#x27;React&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/en/docs/category/vue">Vue</a><button aria-label="Collapse sidebar category &#x27;Vue&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/framework/Vue/Vue2">Vue 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/framework/Vue/Vue2next">Vue 2 续集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/framework/Vue/Vue3">Vue 3</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/framework/Next">Next</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/framework/Umi">Umi</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/framework/UniApp">UniApp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/framework/miniprogram">小程序</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/framework/other">其他</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/代码规范">代码规范</a><button aria-label="Expand sidebar category &#x27;代码规范&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/状态管理">状态管理</a><button aria-label="Expand sidebar category &#x27;状态管理&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/打包编译">打包编译</a><button aria-label="Expand sidebar category &#x27;打包编译&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/nodejs">NodeJS</a><button aria-label="Expand sidebar category &#x27;NodeJS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/数据库">数据库</a><button aria-label="Expand sidebar category &#x27;数据库&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/动画">动画</a><button aria-label="Expand sidebar category &#x27;动画&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/3d">3D</a><button aria-label="Expand sidebar category &#x27;3D&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/plugin">插件拓展</a><button aria-label="Expand sidebar category &#x27;插件拓展&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/category/软件">软件</a><button aria-label="Expand sidebar category &#x27;软件&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_lP5W"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_qQPt"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_rMla"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DcUp"><div class="docItemContainer_ZUY3"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_HLuQ" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Lyg8"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/docs/category/框架"><span itemprop="name">框架</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/docs/category/vue"><span itemprop="name">Vue</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Vue 2</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_DXlx theme-doc-toc-mobile tocMobile_aE_4"><button type="button" class="clean-btn tocCollapsibleButton_vkSI">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Vue 2</h1>
<p>这里介绍老版本 vue 相关的知识点</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="vue-2-原理相关">Vue 2 原理相关<a href="#vue-2-原理相关" class="hash-link" aria-label="Direct link to Vue 2 原理相关" title="Direct link to Vue 2 原理相关">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="vue-优点">Vue 优点<a href="#vue-优点" class="hash-link" aria-label="Direct link to Vue 优点" title="Direct link to Vue 优点">​</a></h3>
<ul>
<li>轻量级, 只关注视图层，是一个构建数据的视图集合，大小很小；</li>
<li>简单易学：国人开发，中文文档，不存在语言障碍 ，易于理解和学习；</li>
<li>双向数据绑定：保留了 angular 的特点，在数据操作方面更为简单；</li>
<li>组件化：保留了 react 的优点，实现了 html 的封装和重用，在构建单页面应用方面有着独特的优势；</li>
<li>视图， 数据，结构分离：使数据的更改更为简单，不需要进行逻辑代码的修改，只需要操作数据就能完成相关操作；</li>
<li>虚拟 DOM：dom 操作是非常耗费性能的，不再使用原生的 dom 操作节点，极大解放 dom 操作，但具体操作的还是 dom 不过是换了另一种方式；</li>
<li>运行速度更快：相比较于 react 而言，同样是操作虚拟 dom，就性能而言， vue 存在很大的优势。</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="vue-2-原理">Vue 2 原理<a href="#vue-2-原理" class="hash-link" aria-label="Direct link to Vue 2 原理" title="Direct link to Vue 2 原理">​</a></h3>
<p>讲到 vue , 那就必须联想到 MVVM (Model -&gt; View -&gt; ViewModel)
MVVM 指的是 Model、View 和 ViewModel，它把每个 HTML 页面都拆分成了这三个部分</p>
<ul>
<li>Model 表示当前页面渲染时所依赖的数据源。</li>
<li>View 表示当前页面所渲染的 DOM 结构。</li>
<li>ViewModel 表示 vue 的实例，它是 MVVM 的核心。</li>
</ul>
<p>总之, 更加方便的操作 data 中的数据
基本原理：</p>
<ul>
<li>通过 Object.defineProperty() (vue3.0 使用 proxy)把 data 对象中所有属性添加到 [VM] 上。</li>
<li>为每一个添加到 [VM] 上的属性，都指定一个 getter/setter</li>
<li>在 getter/setter 内部去操作（读/写）data 中对应的属性</li>
</ul>
<p>总结一下就是：
当一个 Vue 实例创建时，Vue 会遍历 data 中的属性，用 Object.defineProperty（vue3.0 使用 proxy ）将它们转为 getter/setter，并且在内部追踪相关依赖，在属性被访问和修改时通知变化。 每个组件实例都有相应的 watcher 程序实例，它会在组件渲染的过程中把属性记录为依赖，之后当依赖项的 setter 被调用时，会通知 watcher 重新计算，从而致使它关联的组件得以更新。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="响应式">响应式<a href="#响应式" class="hash-link" aria-label="Direct link to 响应式" title="Direct link to 响应式">​</a></h3>
<p>Vue 中最核心的也就是它的响应式，所谓响应式就是采用<strong>数据劫持</strong>结合<strong>发布者-订阅者模式</strong>的方式，通过 Object.defineProperty() 来劫持各个属性的 setter，getter，在数据变动时发布消息给订阅者，触发相应的监听回调。</p>
<p>主要步骤：</p>
<ul>
<li>
<p>对劫持的数据对象 <code>Observe</code>进行遍历, 包括子属性对象的属性，都加上 <code>setter</code>和 <code>getter</code>这样的属性，给这个对象的某个值赋值，就会触发 setter，那么就能监听到了其数据的变化</p>
</li>
<li>
<p>Vue 的编译器 <code>Compile</code>解析模板指令, 将模板变量替换成数据, 然后初始化页面, 并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者, 一旦数据有变动, 收到通知, 更新视图。</p>
</li>
<li>
<p>订阅者 <code>Watcher</code>是 Observer 和 Compile 之间通信的桥梁，主要做的事情是: ① 在自身实例化时往属性订阅器(Dep)里面添加自己 ② 自身必须有一个 update()方法 ③ 待属性变动 dep.notice() 通知时，能调用自身的 update() 方法，并触发 Compile 中绑定的回调，则功成身退。</p>
<blockquote>
<p>Dep 指用于收集 Watcher 订阅者们</p>
</blockquote>
</li>
<li>
<p>MVVM 作为数据绑定的入口，整合 Observer、Compile 和 Watcher 三者，通过 Observer 来监听自己的 model 数据变化，通过 Compile 来解析编译模板指令，最终利用 Watcher 搭起 Observer 和 Compile 之间的通信桥梁，达到数据变化 -&gt; 视图更新；视图交互变化(input) -&gt; 数据 model 变更的双向绑定效果。</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="mvvm-优缺点">MVVM 优缺点<a href="#mvvm-优缺点" class="hash-link" aria-label="Direct link to MVVM 优缺点" title="Direct link to MVVM 优缺点">​</a></h3>
<p>优点：</p>
<ul>
<li>⾃动更新 dom: 利⽤双向绑定,数据更新后视图⾃动更新,让开发者从繁琐的⼿动 dom 中解放</li>
<li>分离视图（View）和模型（Model），降低代码耦合，提⾼视图或者逻辑的重⽤性: ⽐如视图（View）可以独⽴于 Model 变化和修改，⼀个 ViewModel 可以绑定不同的&quot;View&quot;上，当 View 变化的时候 Model 不可以不变，当 Model 变化的时候 View 也可以不变。你可以把⼀些视图逻辑放在⼀个 ViewModel ⾥⾯，让很多 view 重⽤这段视图逻辑</li>
<li>提⾼可测试性: ViewModel 的存在可以帮助开发者更好地编写测试代码</li>
</ul>
<p>缺点：</p>
<ul>
<li>对于⼤型的图形应⽤程序，视图状态较多，ViewModel 的构建和维护的成本都会⽐较⾼</li>
<li>⼀个⼤的模块中 model 也会很⼤，虽然使⽤⽅便了也很容易保证了数据的⼀致性，当时⻓期持有，不释放内存就造成了花费更多的内存</li>
<li>Bug 很难被调试: 因为使⽤双向绑定的模式，当你看到界⾯异常了，有可能是你 View 的代码有 Bug，也可能是 Model 的代码有问题。数据绑定使得⼀个位置的 Bug 被快速传递到别的位置，要定位原始出问题的地⽅就变得不那么容易了。另外，数据绑定的声明是指令式地写在 View 的模版当中的，这些内容是没办法去打断点 debug 的</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="数据劫持-objectdefineproperty">数据劫持 <code>Object.defineProperty()</code><a href="#数据劫持-objectdefineproperty" class="hash-link" aria-label="Direct link to 数据劫持-objectdefineproperty" title="Direct link to 数据劫持-objectdefineproperty">​</a></h3>
<p><code>Object.defineProperty()</code> 有三个参数, 分别是：<code>obj</code>, <code>prop</code>, <code>descriptor</code></p>
<ul>
<li><code>obj</code> 要定义的对象,</li>
<li><code>prop</code> 要定义或修改的属性名称或 <code>Symbol</code></li>
<li><code>descriptor</code> 要定义或修改的属性描述符(配置对象)</li>
</ul>
<p>第三个参数也就是 <code>options</code>, 可以设置的参数有：</p>
<ul>
<li>value：给 target[key]设置初始值</li>
<li>get：调用 target[key]时触发</li>
<li>set：设置 target[key]时触发</li>
<li>writable：规定 target[key]是否可被重写，默认 false</li>
<li>enumerable：规定了 key 是否会出现在 target 的枚举属性中，默认为 false</li>
<li>configurable：规定了能否改变 options，以及删除 key 属性，默认 false</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="虚拟-dom">虚拟 DOM<a href="#虚拟-dom" class="hash-link" aria-label="Direct link to 虚拟 DOM" title="Direct link to 虚拟 DOM">​</a></h3>
<p><code>react</code>和 <code>vue</code> 中都用到了虚拟 dom，所谓虚拟 dom，是一个用于表示真实 <code>DOM</code> 结构和属性的 <code>JavaScript</code> 对象，这个对象用于对比虚拟 <code>DOM</code> 和当前真实 <code>DOM</code> 的差异化，然后进行局部渲染从而实现性能上的优化。</p>
<p>两者在使用 JS 实现模拟真是 Dom 的部分几乎是一致的。在 Diff 部分, 两者的算法也是类似的, 均有 delete, replace, insert, 但是两者的 diff 策略是不一致的；</p>
<ul>
<li>Diff 算法借助元素的 Key 判断元素是新增、删除、修改，从而减少不必要的元素重渲染。</li>
<li>react 中的 diff 策略是, 自顶向下全 diff</li>
<li>vue 中的 diff 策略是, 跟踪每一个组件的依赖关系,不需要重新渲染整个组件树, 也就是 数据劫持, 然后对每个数据添加 getter/setter, 同时 watcher 实例对象会在组件渲染时，将属性记录为 dep, 当 dep 项中的 setter 被调用时，通知 watch 重新计算，使得关联组件更新。</li>
</ul>
<p>虚拟 Dom 的数据结构, 主要包括：<code>tag</code>, <code>data</code>, <code>children</code></p>
<ul>
<li>tag：必选。就是标签。也可以 是组件，或者函数</li>
<li>props：非必选。就是这个标签上的属性和方法</li>
<li>children：非必选。就是这个标签的内容或者子节点，如果是文本节点就是字符串，如果有子节点就是数组。换句话说 如果判断 children 是字符串的话，就表示一定是文本节点，这个节点肯定没有子元素</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="diff-算法">diff 算法<a href="#diff-算法" class="hash-link" aria-label="Direct link to diff 算法" title="Direct link to diff 算法">​</a></h3>
<p>在新老虚拟 DOM 对比时：</p>
<ul>
<li>首先，对比节点本身，判断是否为同一节点，如果不为相同节点，则删除该节点重新创建节点进行替换</li>
<li>如果为相同节点，进行 patchVnode，判断如何对该节点的子节点进行处理，先判断一方有子节点一方没有子节点的情况(如果新的 children 没有子节点，将旧的子节点移除)</li>
<li>比较如果都有子节点，则进行 updateChildren，判断如何对这些新老节点的子节点进行操作（diff 核心）。
匹配时，找到相同的子节点，递归比较子节点</li>
</ul>
<p>在 diff 中，只对同层的子节点进行比较，放弃跨级的节点比较，使得时间复杂从 O(n3)降低值 O(n)，也就是说，只有当新旧 children 都为多个子节点时才需要用核心的 Diff 算法进行同层级比较。</p>
<p>vue 2 中使用的是双端 diff，字面意思就是从两端开始分别向中间进行遍历比较的算法</p>
<p><strong>所谓双端 diff，主要有五种比较：</strong></p>
<ul>
<li>新旧头相等</li>
<li>新旧尾相等</li>
<li>旧头等于新尾</li>
<li>旧尾等于新头</li>
<li>四者互不相等</li>
</ul>
<p>其中前四种很好理解，</p>
<ul>
<li>当旧的头和新的头对比 key相同，那么新旧节点的头对应的指针向后移一位，</li>
<li>同理 新旧尾相同，那么新旧尾节点指针向前挪一位</li>
<li>当旧头和新尾节点key 一样，旧头向后挪一位，新尾节点指针向前挪一位, 这里就会需要节点的移动，将 旧的头节点 重新插入到 当前 旧的尾结点之后</li>
<li>同理，旧尾和新头的key 一样，那新头向后挪一位，旧尾向前挪一位, 这里是需要移动的，旧节点数组的末尾索引对应的 vnode 插入到旧节点数组 起始索引对应的 vnode 之前
最复杂的就是四者都不一样时, 至此，双端对比就结束了，这时候，剩下的新旧节点，需要重新生成 key(vnode.key 作为键),<br>
<!-- -->然后，就需要拿着没找到的节点 key 找到旧节点中对应的 key的节点，这时候就意味着，有两种情况：</li>
<li>旧的列表中有找到, 这是后就需要移动节点，将旧节点中对应的节点插入到 旧头位置之前，然后将旧节点位置中的元素设置为 undefined，</li>
<li>旧的列表压根不存在，属于新添加的节点，就直接将 新的 vnode 插入到对应的位置</li>
<li>然后就将起始位置后移，直接循环结束
经过上面的比较之后，剩下的</li>
<li>新节点剩余，则表示为新增的节点，那直接循环遍历剩余的数据，分别创建节点并插入到就末尾索引 节点之前</li>
<li>旧节点剩余，则表示为已经移除的节点，直接从节点数据 中移除</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="vue-生命周期">Vue 生命周期<a href="#vue-生命周期" class="hash-link" aria-label="Direct link to Vue 生命周期" title="Direct link to Vue 生命周期">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="计算属性-computed-和-watch">计算属性 computed 和 watch<a href="#计算属性-computed-和-watch" class="hash-link" aria-label="Direct link to 计算属性 computed 和 watch" title="Direct link to 计算属性 computed 和 watch">​</a></h3>
<p><strong>computed</strong></p>
<ul>
<li>它支持缓存，只有依赖的数据发生了变化，才会重新 计算</li>
<li>不支持异步，当 Computed 中有异步操作时，无法监听数据的变化</li>
<li>computed 的值会默认走缓存，计算属性是基于它们的响应式依赖进行缓存的，也就是基于 data 声明过，或者父组件传递过来的 props 中的数据进行计算的。</li>
<li>如果一个属性是由其他属性计算而来的，这个属性依赖其他的属性，一般会使用 computed</li>
<li>如果 computed 属性的属性值是函数，那么默认使用 get 方法，函数的返回值就是属性的属性值；在 computed 中，属性有一个 get 方法和一个 set 方法，当数据发生变化时，会调用 set 方法。</li>
</ul>
<div class="language-javascript codeBlockContainer_W0NN theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_zFEt"><pre tabindex="0" class="prism-code language-javascript codeBlock_fjlV thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MuKU"><span class="token-line" style="color:#F8F8F2"><span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">fullName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// getter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">get</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">firstName</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27; &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">lastName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// setter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">set</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">newValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> names </span><span class="token operator">=</span><span class="token plain"> newValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">split</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">firstName</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> names</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">lastName</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> names</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">names</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_jl31"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_tZqm" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Um2M"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_kffX"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>watch</strong></p>
<ul>
<li>它不支持缓存，数据变化时，它就会触发相应的操作</li>
<li>支持异步监听</li>
<li>监听的函数接收两个参数，第一个参数是最新的值，第二个是变化之前的值</li>
<li>当一个属性发生变化时，就需要执行相应的操作</li>
<li>监听数据必须是 data 中声明的或者父组件传递过来的 props 中的数据，当发生变化时，会触发其他操作，函数有两个的参数：<!-- -->
<ul>
<li>immediate：组件加载立即触发回调函数</li>
<li>deep：深度监听，发现数据内部的变化，在复杂数据类型中使用，例如数组中的对象发生变化。需要注意的是，deep 无法监听到数组和对象内部的变化。</li>
</ul>
</li>
</ul>
<p>当想要执行异步或者昂贵的操作以响应不断的变化时，就需要使用 watch。</p>
<p>两者主要使用场景：</p>
<ul>
<li>当需要进行数值计算,并且依赖于其它数据时，应该使用 <code>computed</code>，因为可以利用 <code>computed</code> 的缓存特性，避免每次获取值时都要重新计算。</li>
<li>当需要在数据变化时执行异步或开销较大的操作时，应该使用 <code>watch</code>，使用 <code>watch</code> 选项允许执行异步操作 ( 访问一个 API )，限制执行该操作的频率，并在得到最终结果前，设置中间状态。这些都是计算属性无法做到的。</li>
</ul>
<p>总结一下：</p>
<ul>
<li><code>computed</code> 计算属性 : 依赖其它属性值，并且 <code>computed</code> 的值有缓存，只有它依赖的属性值发生改变，下一次获取 <code>computed</code> 的值时才会重新计算 <code>computed</code> 的值。</li>
<li><code>watch</code> 侦听器 : 更多的是观察的作用，无缓存性，类似于某些数据的监听回调，每当监听的数据变化时都会执行回调进行后续操作。</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="computed-和-methods-的区别">Computed 和 Methods 的区别<a href="#computed-和-methods-的区别" class="hash-link" aria-label="Direct link to Computed 和 Methods 的区别" title="Direct link to Computed 和 Methods 的区别">​</a></h3>
<p>可以将同一函数定义为一个 method 或者一个计算属性。对于最终的结果，两种方式是相同的</p>
<ul>
<li>computed: 计算属性是基于它们的依赖进行缓存的，只有在它的相关依赖发生改变时才会重新求值；</li>
<li>method 调用总会执行该函数。</li>
</ul>
<p>通俗点讲就是, Methods 下就是我们用来定义方法的地方, 在其他地方调用, 总会执行。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="下面整理了下生命周期">下面整理了下生命周期:<a href="#下面整理了下生命周期" class="hash-link" aria-label="Direct link to 下面整理了下生命周期:" title="Direct link to 下面整理了下生命周期:">​</a></h4>
<p>先上图：</p>
<img src="/en/assets/images/vue-b52a294d38280c3a7758dc699e7ff83c.png" width="65%">
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="beforecreate创建前">beforeCreate（创建前）<a href="#beforecreate创建前" class="hash-link" aria-label="Direct link to beforeCreate（创建前）" title="Direct link to beforeCreate（创建前）">​</a></h3>
<p>数据观测和初始化事件还未开始，此时 <code>data</code> 的响应式追踪、<code>event/watcher</code> 都还没有被设置，也就是说不能访问到<code>data、computed、watch、methods</code>上的方法和数据。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="created创建后">created（创建后）<a href="#created创建后" class="hash-link" aria-label="Direct link to created（创建后）" title="Direct link to created（创建后）">​</a></h3>
<p>实例创建完成，实例上配置的 <code>options</code> 包括 <code>data、computed、watch、methods</code> 等都配置完成，但是此时渲染得节点还未挂载到 <code>DOM</code>，所以不能访问到 <code>$el</code> 属性。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="beforemount挂载前">beforeMount（挂载前）<a href="#beforemount挂载前" class="hash-link" aria-label="Direct link to beforeMount（挂载前）" title="Direct link to beforeMount（挂载前）">​</a></h3>
<p>在挂载开始之前被调用，相关的 render 函数首次被调用。实例已完成以下的配置：编译模板，把 data 里面的数据和模板生成 html。此时还没有挂载 html 到页面上。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="mounted挂载后">mounted（挂载后）<a href="#mounted挂载后" class="hash-link" aria-label="Direct link to mounted（挂载后）" title="Direct link to mounted（挂载后）">​</a></h3>
<p>在 el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用。实例已完成以下的配置：用上面编译好的 html 内容替换 el 属性指向的 DOM 对象。完成模板中的 html 渲染到 html 页面中。此过程中进行 ajax 交互。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="beforeupdate更新前">beforeUpdate（更新前）<a href="#beforeupdate更新前" class="hash-link" aria-label="Direct link to beforeUpdate（更新前）" title="Direct link to beforeUpdate（更新前）">​</a></h3>
<p>响应式数据更新时调用，此时虽然响应式数据更新了，但是对应的真实 DOM 还没有被渲染。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="updated更新后">updated（更新后）<a href="#updated更新后" class="hash-link" aria-label="Direct link to updated（更新后）" title="Direct link to updated（更新后）">​</a></h3>
<p>在由于数据更改导致的虚拟 DOM 重新渲染和打补丁之后调用。此时 DOM 已经根据响应式数据的变化更新了。调用时，组件 DOM 已经更新，所以可以执行依赖于 DOM 的操作。然而在大多数情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环。该钩子在服 务器端渲染期间不被调用。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="beforedestroy销毁前">beforeDestroy（销毁前）<a href="#beforedestroy销毁前" class="hash-link" aria-label="Direct link to beforeDestroy（销毁前）" title="Direct link to beforeDestroy（销毁前）">​</a></h3>
<p>实例销毁之前调用。这一步，实例仍然完全可用，this 仍能获取到实例。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="destroyed销毁后">destroyed（销毁后）<a href="#destroyed销毁后" class="hash-link" aria-label="Direct link to destroyed（销毁后）" title="Direct link to destroyed（销毁后）">​</a></h3>
<p>实例销毁后调用，调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子在服务端渲染期间不被调用。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="随之而来的问题">随之而来的问题：<a href="#随之而来的问题" class="hash-link" aria-label="Direct link to 随之而来的问题：" title="Direct link to 随之而来的问题：">​</a></h4>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="created-和-mounted-的区别">created 和 mounted 的区别<a href="#created-和-mounted-的区别" class="hash-link" aria-label="Direct link to created 和 mounted 的区别" title="Direct link to created 和 mounted 的区别">​</a></h3>
<ul>
<li>created:在模板渲染成 html 前调用，即通常初始化某些属性值，然后再渲染成视图。</li>
<li>mounted:在模板渲染成 html 后调用，通常是初始化页面完成后，再对 html 的 dom 节点进行一些需要的操作。</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="请求异步数据一般在哪个生命周期中">请求异步数据一般在哪个生命周期中<a href="#请求异步数据一般在哪个生命周期中" class="hash-link" aria-label="Direct link to 请求异步数据一般在哪个生命周期中" title="Direct link to 请求异步数据一般在哪个生命周期中">​</a></h3>
<p>我们可以在钩子函数 created、beforeMount、mounted 中进行调用，因为在这三个钩子函数中，data 已经创建，可以将服务端端返回的数据进行赋值。
推荐在 <code>created</code> 钩子函数中调用异步请求，因为在 <code>created</code> 钩子函数中调用异步请求有以下优点：</p>
<ul>
<li>能更快获取到服务端数据，减少页面加载时间，用户体验更好；</li>
<li>SSR 不支持 <code>beforeMount</code>、<code>mounted</code> 钩子函数，放在 <code>created</code> 中有助于一致性。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="此外还有三个不常用的生命周期">此外还有三个不常用的生命周期<a href="#此外还有三个不常用的生命周期" class="hash-link" aria-label="Direct link to 此外还有三个不常用的生命周期" title="Direct link to 此外还有三个不常用的生命周期">​</a></h4>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="activated">activated<a href="#activated" class="hash-link" aria-label="Direct link to activated" title="Direct link to activated">​</a></h3>
<p>被 keep-alive 缓存的组件激活时调用。所以改生命周期钩子, 只有 keep-alive 可以使用</p>
<div class="theme-admonition theme-admonition-tip admonition_Kwez alert alert--success"><div class="admonitionHeading_K4U1"><span class="admonitionIcon_mCM0"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BCiH"><p>注：该钩子在服务器端渲染期间不被调用。</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="deactivated">deactivated<a href="#deactivated" class="hash-link" aria-label="Direct link to deactivated" title="Direct link to deactivated">​</a></h3>
<p>被 keep-alive 缓存的组件失活时调用。同上</p>
<div class="theme-admonition theme-admonition-tip admonition_Kwez alert alert--success"><div class="admonitionHeading_K4U1"><span class="admonitionIcon_mCM0"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BCiH"><p>注：该钩子在服务器端渲染期间不被调用。</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="errorcapured">errorCapured<a href="#errorcapured" class="hash-link" aria-label="Direct link to errorCapured" title="Direct link to errorCapured">​</a></h3>
<p>在捕获一个来自后代组件的错误时被调用。此钩子会收到三个参数：
错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。
此钩子可以返回 false 以阻止该错误继续向上传播。</p>
<div class="theme-admonition theme-admonition-info admonition_Kwez alert alert--info"><div class="admonitionHeading_K4U1"><span class="admonitionIcon_mCM0"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BCiH"><p><a href="/en/docs/framework/Vue/Vue2next#keep-alive">上面涉及到了 <code>keep-alive</code>, 可以看这里</a></p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="nexttick">$nextTick<a href="#nexttick" class="hash-link" aria-label="Direct link to $nextTick" title="Direct link to $nextTick">​</a></h3>
<p>官方解释：在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。</p>
<p>通俗点讲, 就是你放在 <code>$nextTick</code> 当中的操作不会立即执行，而是等数据更新、DOM 更新完成之后再执行，这样我们拿到的肯定就是最新的了。当数据更新了，在 dom 中渲染后，自动执行该函数</p>
<p>原理：
Vue 的 nextTick 其本质是对 JavaScript 执行原理 EventLoop 的一种应用。
目前最新的$nextTick 采用的是纯微任务, 在 vue 2.5 版本之后</p>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><div class="language-js codeBlockContainer_W0NN theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_zFEt"><pre tabindex="0" class="prism-code language-js codeBlock_fjlV thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MuKU"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;HelloWorld&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">testMsg</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;原始值&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">testClick</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> that </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      that</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">testMsg</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;修改后的值&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">that</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">$refs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">aa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">innerText</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//that.$refs.aa获取指定DOM，输出：原始值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      that</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">$nextTick</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">that</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">$refs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">aa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">innerText</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//输出：修改后的值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_jl31"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_tZqm" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Um2M"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_kffX"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p><strong>使用场景：</strong></p>
<ul>
<li>created()钩子函数进行的 DOM 操作一定要放在 Vue.nextTick() 的回调函数中, reated()钩子函数执行的时候 DOM 其实并未进行任何渲染，而此时进行 DOM 操作无异于徒劳，所以此处一定要将 DOM 操作的 js 代码放进 Vue.nextTick()的回调函数中。与之对应的就是 mounted 钩子函数，因为该钩子函数执行时所有的 DOM 挂载已完成。</li>
<li>当项目中你想在改变 DOM 元素的数据后基于新的 dom 做点什么，对新 DOM 一系列的 js 操作都需要放进 Vue.nextTick()的回调函数中；通俗的理解是：更改数据后当你想立即使用 js 操作新的视图的时候需要使用它</li>
<li>当使用第三方插件时, 希望在 vue 生成的某些 dom 动态发生变化时重新应用该插件，也会用到该方法，这时候就需要在 $nextTick 的回调函数中执行重新应用插件的方法</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="mixin-混入">mixin 混入<a href="#mixin-混入" class="hash-link" aria-label="Direct link to mixin 混入" title="Direct link to mixin 混入">​</a></h3>
<p>官方解释：</p>
<blockquote>
<p>混入 (mixin) 提供了一种非常灵活的方式，来分发 Vue 组件中的可复用功能。一个混入对象可以包含任意组件选项。当组件使用混入对象时，所有混入对象的选项将被“混合”进入该组件本身的选项。</p>
</blockquote>
<p>是不是很难懂, 那说白话, 就是</p>
<blockquote>
<p>将组件的公共逻辑或者配置提取出来，哪个组件需要用到时，直接将提取的这部分混入到组件内部即可。这样既可以减少代码冗余度，也可以让后期维护起来更加容易。可以局部引入，也可全局引入,
例如：图片路径拼接静态服务地址；需要收集用户操作，这种通用的方法或者组件。</p>
</blockquote>
<p>这里就会拓展出一个问题, 当我在 mixin 中定义了的属性或方法的名称, 然后在组件中也定义了相同的属性和方法, 这样不会有冲突吗？</p>
<ul>
<li>生命周期同时存在的情况, 会先执行 mixin 中的生命周期, 然后再执行组件中的生命周期</li>
<li>data 数据共存的情况, 组件中的 data 数据会覆盖 mixin 中 data 的数据</li>
<li>方法出现重复的情况, 默认还是会执行组件中的方法，这点和 data 数据类似, mixin 中有组件中没有的方法, 那也是会执行的</li>
</ul>
<p>直接来个例子</p>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><div class="language-js codeBlockContainer_W0NN theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_zFEt"><pre tabindex="0" class="prism-code language-js codeBlock_fjlV thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MuKU"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> mixin </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">message</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mixin&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;testMixin&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">foo</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;abc&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">foo</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;foo&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">conflicting</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;from mixin&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> vm </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Vue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">message</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;hello&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;test1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">mixins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">mixin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">created</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">$data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// =&gt; { message: &quot;hello&quot;, test: &quot;test1&quot;, foo: &#x27;abc&#x27; }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">bar</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;bar&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">conflicting</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;from self&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">foo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// =&gt; &quot;foo&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">bar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// =&gt; &quot;bar&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">conflicting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// =&gt; &quot;from self&quot;</span><br></span></code></pre><div class="buttonGroup_jl31"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_tZqm" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Um2M"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_kffX"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p>这里需要注意的是：提取的是逻辑或配置，而不是 HTML 代码和 CSS 代码。其实大家也可以换一种想法，mixin 就是组件中的组件，Vue 组件化让我们的代码复用性更高，那么组件与组件之间还有重复部分，我们使用 Mixin 在抽离一遍。</p>
<p><strong>优缺点：</strong></p>
<ul>
<li>优：提高代码复用性, 无需传递状态, 维护方便，只需要修改一个地方即可</li>
<li>缺：命名冲突, 不好追溯源，排查问题稍显麻烦, 不能轻易的重复代码</li>
</ul>
<p><strong>总结：</strong>
mixin 给我们提供了方便的同时也给我们带来了灾难，所以有很多时候不建议滥用它，但是在有些场景下使用它又是非常合适的，这就得根据自己来取舍了。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="extend">extend<a href="#extend" class="hash-link" aria-label="Direct link to extend" title="Direct link to extend">​</a></h3>
<p>使用基础 Vue 构造器，创建一个“子类”。参数是一个包含组件选项的对象。</p>
<p>data 选项是特例，需要注意 - 在 Vue.extend() 中它必须是函数</p>
<p>允许声明扩展另一个组件 (可以是一个简单的选项对象或构造函数)，而无需使用 Vue.extend。这主要是为了便于扩展单文件组件。</p>
<p>这和 mixins 类似。</p>
<p>这个不多在这里阐述了, 因为用的不多, 可以看下下面这个文章 <a href="https://juejin.cn/post/6890072682864476168" target="_blank" rel="noopener noreferrer">点击这里</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="过滤器-filters">过滤器 filters<a href="#过滤器-filters" class="hash-link" aria-label="Direct link to 过滤器 filters" title="Direct link to 过滤器 filters">​</a></h3>
<p>Vue.js 允许你自定义过滤器，可  被用于一些常见的文本格式化。过滤器可以用在两个地方：双花括号插值和 v-bind 表达式 (后者从 2.1.0+ 开始支持)。过滤器应该被添加在 JavaScript 表达式的尾部，由“管道”符号指示：</p>
<div class="language-html codeBlockContainer_W0NN theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_zFEt"><pre tabindex="0" class="prism-code language-html codeBlock_fjlV thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MuKU"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- 在双花括号中 --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{{ message | capitalize }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- 在 `v-bind` 中 --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name namespace" style="color:rgb(241, 250, 140)">v-bind:</span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">rawId | formatId</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup_jl31"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_tZqm" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Um2M"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_kffX"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-javascript codeBlockContainer_W0NN theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_zFEt"><pre tabindex="0" class="prism-code language-javascript codeBlock_fjlV thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MuKU"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 组件中过滤器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">filters</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">capitalize</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    value </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">charAt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toUpperCase</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">slice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 全局过滤器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token maybe-class-name">Vue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;capitalize&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  value </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">charAt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toUpperCase</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">slice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Vue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 当全局过滤器和局部过滤器重名时，会采用局部过滤器。</span><br></span></code></pre><div class="buttonGroup_jl31"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_tZqm" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Um2M"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_kffX"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="相关问题">相关问题<a href="#相关问题" class="hash-link" aria-label="Direct link to 相关问题" title="Direct link to 相关问题">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="vue-的-template-模版编译原理">Vue 的 template 模版编译原理<a href="#vue-的-template-模版编译原理" class="hash-link" aria-label="Direct link to Vue 的 template 模版编译原理" title="Direct link to Vue 的 template 模版编译原理">​</a></h3>
<p>vue 中的模板 template 无法被浏览器解析并渲染，因为这不属于浏览器的标准，不是正确的 HTML 语法，所有需要将 template 转化成一个 JavaScript 函数，这样浏览器就可以执行这一个函数并渲染出对应的 HTML 元素，就可以让视图跑起来了，这一个转化的过程，就成为模板编译。
模板编译又分三个阶段，解析 parse，优化 optimize，生成 generate，最终生成可执行函数 render。</p>
<ul>
<li>解析阶段：使用大量的正则表达式对 template 字符串进行解析，将标签、指令、属性等转化为抽象语法树 AST。</li>
<li>优化阶段：遍历 AST，找到其中的一些静态节点并进行标记，方便在页面重渲染的时候进行 diff 比较时，直接跳过这一些静态节点，优化 runtime 的性能。</li>
<li>生成阶段：将最终的 AST 转化为 render 函数字符串。</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="template-和-jsx-的有什么分别">template 和 jsx 的有什么分别？<a href="#template-和-jsx-的有什么分别" class="hash-link" aria-label="Direct link to template 和 jsx 的有什么分别？" title="Direct link to template 和 jsx 的有什么分别？">​</a></h3>
<p>对于 <code>runtime</code> 来说，只需要保证组件存在 <code>render</code> 函数即可，而有了预编译之后，只需要保证构建过程中生成 <code>render</code> 函数就可以。</p>
<p>在 <code>webpack</code> 中，使用 <code>vue-loader</code> 编译.vue 文件，内部依赖的 <code>vue-template-compiler</code> 模块，在 <code>webpack</code> 构建过程中，将<code>template</code>预编译成 <code>render</code> 函数。
与 <code>react</code> 类似，在添加了 jsx 的语法糖解析器 <code>babel-plugin-transform-vue-jsx</code> 之后，就可以直接手写 <code>render</code>函数。</p>
<p>所以，<code>template</code> 和 <code>JSX</code> 的都是 render 的一种表现形式，不同的是：<code>JSX</code>相对于 <code>template</code> 而言，具有更高的灵活性，在复杂的组件中，更具有优势，而 <code>template</code> 虽然显得有些呆滞。但是 <code>template</code> 在代码结构上更符合视图与逻辑分离的习惯，更简单、更直观、更好维护。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_y8pV" id="scoped-作用与原理">scoped 作用与原理<a href="#scoped-作用与原理" class="hash-link" aria-label="Direct link to scoped 作用与原理" title="Direct link to scoped 作用与原理">​</a></h3>
<ul>
<li>作用：组件 css 作用域，避免子组件内部的 css 样式被父组件覆盖<!-- -->
<ul>
<li>默认情况下，如果子组件和父组件 css 选择器权重相同，优先加载父组件 css 样式</li>
</ul>
</li>
<li>原理：给元素添加一个自定义属性 v-data-xxxxx, (形如：data-v-2311c06a)来表示他的唯一性。<!-- -->
<ul>
<li>通过属性选择题来提高 css 权重值, 在每句 css 选择器的末尾加一个当前组件的 data 属性选择器的哈希特征值来私有化样式。</li>
</ul>
</li>
</ul>
<p>如果父组件中想操作子组件中 已经设置 scoped 属性的样式，那么该怎么做呢？</p>
<p>这里就需要用到 /deep/ 叫做 scoped 穿透</p>
<div class="language-html codeBlockContainer_W0NN theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_zFEt"><pre tabindex="0" class="prism-code language-html codeBlock_fjlV thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MuKU"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">style</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  .content /deep/ .button {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    color: red;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">style</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup_jl31"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_tZqm" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Um2M"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_kffX"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/category/vue"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Vue</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/framework/Vue/Vue2next"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Vue 2 续集</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_OCR0 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#vue-2-原理相关" class="table-of-contents__link toc-highlight">Vue 2 原理相关</a><ul><li><a href="#vue-优点" class="table-of-contents__link toc-highlight">Vue 优点</a></li><li><a href="#vue-2-原理" class="table-of-contents__link toc-highlight">Vue 2 原理</a></li><li><a href="#响应式" class="table-of-contents__link toc-highlight">响应式</a></li><li><a href="#mvvm-优缺点" class="table-of-contents__link toc-highlight">MVVM 优缺点</a></li><li><a href="#数据劫持-objectdefineproperty" class="table-of-contents__link toc-highlight">数据劫持 <code>Object.defineProperty()</code></a></li><li><a href="#虚拟-dom" class="table-of-contents__link toc-highlight">虚拟 DOM</a></li><li><a href="#diff-算法" class="table-of-contents__link toc-highlight">diff 算法</a></li></ul></li><li><a href="#vue-生命周期" class="table-of-contents__link toc-highlight">Vue 生命周期</a><ul><li><a href="#计算属性-computed-和-watch" class="table-of-contents__link toc-highlight">计算属性 computed 和 watch</a></li><li><a href="#computed-和-methods-的区别" class="table-of-contents__link toc-highlight">Computed 和 Methods 的区别</a></li><li><a href="#beforecreate创建前" class="table-of-contents__link toc-highlight">beforeCreate（创建前）</a></li><li><a href="#created创建后" class="table-of-contents__link toc-highlight">created（创建后）</a></li><li><a href="#beforemount挂载前" class="table-of-contents__link toc-highlight">beforeMount（挂载前）</a></li><li><a href="#mounted挂载后" class="table-of-contents__link toc-highlight">mounted（挂载后）</a></li><li><a href="#beforeupdate更新前" class="table-of-contents__link toc-highlight">beforeUpdate（更新前）</a></li><li><a href="#updated更新后" class="table-of-contents__link toc-highlight">updated（更新后）</a></li><li><a href="#beforedestroy销毁前" class="table-of-contents__link toc-highlight">beforeDestroy（销毁前）</a></li><li><a href="#destroyed销毁后" class="table-of-contents__link toc-highlight">destroyed（销毁后）</a></li><li><a href="#created-和-mounted-的区别" class="table-of-contents__link toc-highlight">created 和 mounted 的区别</a></li><li><a href="#请求异步数据一般在哪个生命周期中" class="table-of-contents__link toc-highlight">请求异步数据一般在哪个生命周期中</a></li><li><a href="#activated" class="table-of-contents__link toc-highlight">activated</a></li><li><a href="#deactivated" class="table-of-contents__link toc-highlight">deactivated</a></li><li><a href="#errorcapured" class="table-of-contents__link toc-highlight">errorCapured</a></li><li><a href="#nexttick" class="table-of-contents__link toc-highlight">$nextTick</a></li><li><a href="#mixin-混入" class="table-of-contents__link toc-highlight">mixin 混入</a></li><li><a href="#extend" class="table-of-contents__link toc-highlight">extend</a></li><li><a href="#过滤器-filters" class="table-of-contents__link toc-highlight">过滤器 filters</a></li></ul></li><li><a href="#相关问题" class="table-of-contents__link toc-highlight">相关问题</a><ul><li><a href="#vue-的-template-模版编译原理" class="table-of-contents__link toc-highlight">Vue 的 template 模版编译原理</a></li><li><a href="#template-和-jsx-的有什么分别" class="table-of-contents__link toc-highlight">template 和 jsx 的有什么分别？</a></li><li><a href="#scoped-作用与原理" class="table-of-contents__link toc-highlight">scoped 作用与原理</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">归档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/intro">总结</a></li><li class="footer__item"><a class="footer__link-item" href="/en/blog">日常 Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/plugin">插件拓展</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/software">工具软件</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/JamesLi-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_FzpE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">晋ICP备2022005544号-1<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_FzpE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Torli, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>