"use strict";(self.webpackChunktorli_website=self.webpackChunktorli_website||[]).push([[7878],{8418:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var s=r(7294),n=r(2263),o=r(4730),a=r(5330);const c={colors:{text:"var(--ifm-color-content)",primary:"var(--ifm-color-primary)"}},l=e=>{let{children:t}=e;const{siteConfig:r}=(0,n.Z)();return s.createElement(o.Z,{title:`${r.title}`},s.createElement(a.f,{theme:c},s.createElement("main",{className:"main"},t)))};var i=r(790),u=r(795),m=r(9669),h=r.n(m),f=r(1955);const p="access_token",d="refresh_token",k=h().create({baseURL:"http://127.0.0.1:7831",timeout:3e4,headers:{"Content-Type":"application/json"}});let E=!1,v=[];k.interceptors.response.use((e=>e),(e=>{if(!e.response)return Promise.reject(e);if(401===e.response.status&&!e.config.url.includes("/auth/refresh")){const{config:t}=e;return E?new Promise((e=>{v.push((r=>{t.headers.Authorization=`Bearer ${r}`,e(k(t))}))})):(E=!0,k.post("/auth/refresh",{refresh_token:f.Z.get(d)}).then((e=>{const{access_token:r}=e.data;var s,n;return s=r,void 0===n&&(n={}),f.Z.set(p,s,n),t.headers.Authorization=`Bearer ${r}`,v.forEach((e=>e(r))),v=[],k(t)})).catch((e=>(console.log("\u62b1\u6b49\uff0c\u60a8\u7684\u767b\u5f55\u72b6\u6001\u5df2\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01"),Promise.reject(e)))).finally((()=>{E=!1})))}return Promise.reject(e)}));const b=()=>{const[e,t]=(0,s.useState)(0);(0,s.useEffect)((()=>{r()}),[e]);const r=async()=>{let t=await(r="/api/web/test",s={count:e},void 0===s&&(s={}),void 0===n&&(n=!1),console.log("url",r,s,n),k({method:"post",url:r,data:s}));var r,s,n;console.log("result",t)};return s.createElement(l,null,s.createElement("div",{className:"backChange"},s.createElement(u.Zb,{sx:{maxWidth:256}},s.createElement(u.zx,{mr:2,onClick:()=>{t(e+1)}},"\u589e\u52a0"),e,s.createElement(u.zx,{ml:2,onClick:()=>{t(e-1)}},"\u51cf\u5c11")),s.createElement(i.Z,{columns:[{title:"\u6807\u98981"},{title:"\u6807\u98982"},{title:"\u6807\u98983"}]})))}}}]);